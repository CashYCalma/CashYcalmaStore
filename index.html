<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cash y Calma ‚Äî Ropa & Estilo</title>
  <meta name="description" content="Sitio oficial de Cash Y Calma: drops, camisetas y streetwear." />
  <style>
    :root{
      --bg:#0b0b10;
      --card:#12121a;
      --text:#f5f5f7;
      --muted:#b9b9c6;
      --brand:#8b5cf6;
      --brand2:#a78bfa;
      --line:rgba(255,255,255,.10);
      --shadow: 0 16px 40px rgba(0,0,0,.45);
      --radius:18px;
      --max:1120px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
              radial-gradient(1000px 600px at 20% 0%, rgba(139,92,246,.25), transparent 60%),
              radial-gradient(900px 700px at 80% 10%, rgba(167,139,250,.20), transparent 55%),
              var(--bg);
    }

    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:0 18px;}
    .pill{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px; border:1px solid var(--line);
      border-radius:999px; background:rgba(255,255,255,.04);
      backdrop-filter: blur(8px);
    }
    .dot{width:10px;height:10px;border-radius:50%;background:var(--brand); box-shadow:0 0 0 6px rgba(139,92,246,.15);}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:12px 16px; border-radius:14px; border:1px solid var(--line);
      background:rgba(255,255,255,.06); color:var(--text);
      transition: transform .15s ease, background .15s ease, border-color .15s ease, opacity .15s ease;
      cursor:pointer;
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-1px); background:rgba(255,255,255,.09); border-color:rgba(139,92,246,.55);}
    .btn.primary{
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      border-color: transparent;
      color:#0b0b10;
      font-weight:700;
    }
    .btn.primary:hover{filter:brightness(1.05)}
    .btn.ghost{background:transparent}
    .btn[disabled]{opacity:.55; cursor:not-allowed; transform:none;}
    .muted{color:var(--muted)}
    .grid{display:grid; gap:16px}
    .card{
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    /* Header */
    header{
      position:sticky; top:0; z-index:20;
      background:rgba(11,11,16,.65);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
      gap:12px;
    }
    .logo{
      display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px;
    }
    .mark{
      width:38px; height:38px; border-radius:12px;
      background: radial-gradient(circle at 25% 20%, #fff, rgba(255,255,255,.2) 35%, rgba(139,92,246,.9) 80%);
      box-shadow:0 10px 30px rgba(139,92,246,.25);
      border:1px solid rgba(255,255,255,.10);
    }
    nav ul{list-style:none; display:flex; gap:14px; margin:0; padding:0; align-items:center}
    nav a{
      padding:10px 12px; border-radius:12px; color:var(--muted);
      border:1px solid transparent;
    }
    nav a:hover{color:var(--text); border-color:rgba(255,255,255,.08); background:rgba(255,255,255,.04)}
    .nav-right{display:flex; align-items:center; gap:10px}
    .burger{display:none}

    /* Hero */
    .hero{padding:38px 0 18px}
    .hero-grid{
      display:grid; grid-template-columns: 1.25fr .75fr; gap:18px;
      align-items:stretch;
    }
    .hero-left{padding:26px}
    h1{
      margin:14px 0 10px;
      font-size: clamp(34px, 4.4vw, 56px);
      line-height:1.05;
      letter-spacing:-.6px;
    }
    .hero-left p{margin:0 0 18px; font-size: clamp(15px, 1.4vw, 18px); color:var(--muted); max-width:52ch}
    .hero-actions{display:flex; gap:10px; flex-wrap:wrap}
    .hero-right{
      padding:18px;
      display:flex; flex-direction:column; gap:12px;
    }
    .mock{
      position:relative;
      height:100%;
      min-height:260px;
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.10);
      background:
              radial-gradient(600px 260px at 50% 0%, rgba(139,92,246,.35), transparent 65%),
              linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      overflow:hidden;
    }
    .mock:before{
      content:"";
      position:absolute; inset:-80px;
      background:
              radial-gradient(circle at 30% 40%, rgba(255,255,255,.20), transparent 40%),
              radial-gradient(circle at 70% 50%, rgba(167,139,250,.22), transparent 45%);
      filter: blur(18px);
      opacity:.8;
    }
    .mock-inner{
      position:absolute; inset:14px;
      border-radius: calc(var(--radius) - 8px);
      border:1px dashed rgba(255,255,255,.18);
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      padding:16px;
      text-align:center;
    }
    .statbar{
      display:grid; grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
    }
    .stat{
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(255,255,255,.03);
    }
    .stat b{display:block; font-size:18px}
    .stat small{color:var(--muted)}

    /* Sections */
    section{padding:22px 0}
    .section-title{
      display:flex; align-items:flex-end; justify-content:space-between; gap:14px;
      margin-bottom:12px;
      flex-wrap:wrap;
    }
    .section-title h2{margin:0; font-size:22px}
    .section-title p{margin:0; color:var(--muted); max-width:60ch}

    /* Products */
    .products{grid-template-columns: repeat(3, 1fr)}
    .prod{
      padding:14px;
      display:flex; flex-direction:column; gap:12px;
    }
    .prod-row{display:flex; justify-content:space-between; align-items:flex-start; gap:10px}
    .price{font-weight:800}
    .tag{
      font-size:12px; color:#0b0b10; background:linear-gradient(135deg,var(--brand),var(--brand2));
      padding:6px 10px; border-radius:999px; display:inline-block; font-weight:800;
    }

    /* Galer√≠a de 2 im√°genes por producto */
    .prod-gallery{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .prod-shot{
      height:180px;
      width:100%;
      overflow:hidden;
      border-radius:16px;
      background:#000;
      display:flex;
      align-items:center;
      justify-content:center;
      border:1px solid rgba(255,255,255,.08);
    }
    .prod-shot img{
      width:92%;
      height:92%;
      object-fit:contain;
      display:block;
    }
    @media (max-width: 900px){
      .prod-gallery{grid-template-columns:1fr;}
      .prod-shot{height:200px;}
    }

    /* About */
    .about{grid-template-columns: 1fr 1fr}
    .about .card{padding:18px}
    .list{margin:10px 0 0; padding-left:18px; color:var(--muted)}
    .list li{margin:8px 0}

    .footer{
      padding:26px 0 34px;
      color:var(--muted);
      border-top:1px solid rgba(255,255,255,.06);
      margin-top:18px;
    }

    /* Mobile */
    @media (max-width: 900px){
      .hero-grid{grid-template-columns:1fr}
      .products{grid-template-columns:1fr}
      .about{grid-template-columns:1fr}
      nav ul{display:none}
      .burger{display:inline-flex}
      .mobile-menu{
        display:none;
        padding:10px 0 16px;
      }
      .mobile-menu a{display:block; padding:10px 0; color:var(--muted)}
      .mobile-menu a:hover{color:var(--text)}
      .mobile-menu.show{display:block}
    }

    /* ====== LIGHTBOX (expandir imagen) ====== */
    .zoomable{ cursor: zoom-in; }

    .lightbox{
      position:fixed;
      inset:0;
      z-index:9999;
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      background:rgba(0,0,0,.85);
      backdrop-filter: blur(6px);
    }
    .lightbox.show{ display:flex; }

    .lightbox-inner{
      position:relative;
      width:min(980px, 96vw);
      max-height:90vh;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(18,18,26,.55);
      overflow:hidden;
      box-shadow: 0 30px 80px rgba(0,0,0,.55);
    }

    .lightbox-img{
      display:block;
      width:100%;
      height:auto;
      max-height:90vh;
      object-fit:contain;
      background:#000;
    }

    .lightbox-close{
      position:absolute;
      top:10px;
      right:10px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(0,0,0,.55);
      color:#fff;
      border-radius:12px;
      padding:10px 12px;
      cursor:pointer;
      font-weight:800;
    }
    .lightbox-close:hover{
      border-color:rgba(139,92,246,.55);
      background:rgba(0,0,0,.7);
    }

    .lightbox-hint{
      position:absolute;
      left:12px;
      bottom:10px;
      color:rgba(255,255,255,.75);
      font-size:12px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.35);
    }

    /* ====== CUPONES (A√ëADIDO) ====== */
    .coupons{grid-template-columns:1fr 1fr;}
    .coupon{
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .coupon-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }
    .coupon-title{margin:0; font-size:18px; font-weight:900;}
    .coupon-desc{margin:6px 0 0; color:var(--muted); font-size:13px; line-height:1.45;}
    .coupon-code{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:12px 12px;
      border-radius:14px;
      border:1px dashed rgba(255,255,255,.18);
      background:rgba(0,0,0,.22);
    }
    .code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-weight:900;
      letter-spacing:.8px;
    }
    .badge{
      font-size:12px;
      color:#0b0b10;
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      padding:6px 10px;
      border-radius:999px;
      display:inline-block;
      font-weight:900;
      white-space:nowrap;
    }
    .toast{
      margin-top:8px;
      font-size:13px;
      color:var(--muted);
      min-height:18px;
    }
    @media (max-width: 900px){
      .coupons{grid-template-columns:1fr;}
    }

    /* ====== INTER√âS (A√ëADIDO, SIMPLE) ====== */
    .interest-grid{grid-template-columns: 1.1fr .9fr;}
    .interest-card{padding:18px;}
    .field{display:flex; flex-direction:column; gap:8px;}
    .field label{font-size:13px; color:var(--muted)}
    .input{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.22);
      color:var(--text);
      outline:none;
    }
    .input:focus{
      border-color:rgba(139,92,246,.55);
      box-shadow: 0 0 0 6px rgba(139,92,246,.12);
    }
    @media (max-width:900px){
      .interest-grid{grid-template-columns:1fr;}
    }

    /* ====== COUNTDOWN PRO (A√ëADIDO) ====== */
    .drop-right{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
    }
    .timer{
      display:flex;
      gap:8px;
      align-items:center;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.04);
      backdrop-filter: blur(8px);
    }
    .tsep{opacity:.6; margin:0 2px;}
    .tbox{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-width:56px;
      padding:6px 10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.22);
      box-shadow: 0 12px 28px rgba(0,0,0,.25);
    }
    .tbox b{
      font-size:18px;
      letter-spacing:.6px;
      line-height:1;
      font-variant-numeric: tabular-nums;
    }
    .tbox small{
      font-size:11px;
      color:var(--muted);
      margin-top:3px;
      letter-spacing:.4px;
      text-transform:uppercase;
    }
    @media (max-width:900px){
      .tbox{min-width:52px}
      .tbox b{font-size:17px}
    }

    /* ====== FLIP ANIMATION (A√ëADIDO) ====== */
    .tbox{ perspective: 800px; }
    .tbox b{
      transform-origin: 50% 55%;
      transform-style: preserve-3d;
      will-change: transform, opacity, filter;
    }
    .tbox b.flip{
      animation: flipNumber .46s cubic-bezier(.2,.9,.2,1);
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.25));
    }
    @keyframes flipNumber{
      0%   { transform: rotateX(0deg);   opacity:1; }
      40%  { transform: rotateX(-80deg); opacity:.55; }
      60%  { transform: rotateX(70deg);  opacity:.55; }
      100% { transform: rotateX(0deg);   opacity:1; }
    }

    /* ====== PAGO (A√ëADIDO) ====== */
    .pay-grid{grid-template-columns: 1fr 1fr;}
    @media (max-width:900px){ .pay-grid{grid-template-columns:1fr;} }
    .pay-card{padding:18px;}
    .pay-box{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.20);
      border-radius:16px;
      padding:14px;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }
    .pay-amount{
      margin-top:10px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      padding:12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.03);
    }
    .pay-amount b{color:var(--text)}
    .tiny{font-size:12px; color:rgba(255,255,255,.75)}
    /* ====== BLOQUEO INTELIGENTE DE PAGO ====== */
    .pay-locked .pay-grid {
      pointer-events: none;
      opacity: .5;
    }

    /* ====== CAJA DE ACCESO ANTICIPADO (VISIBLE SIEMPRE) ====== */
    #earlyAccessBox {
      pointer-events: auto;
      opacity: 1;
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 16px;
      padding: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }

    /* Asegura que input y bot√≥n se vean normales */
    #earlyAccessBox input,
    #earlyAccessBox button,
    #earlyAccessBox label,
    #earlyAccessBox div {
      opacity: 1 !important;
    }


  </style>

</head>

<body>
<header>
  <div class="wrap">
    <div class="nav">
      <a class="logo" href="#inicio" aria-label="Inicio">
        <div class="mark" aria-hidden="true"></div>
        <div>
          <div style="font-size:30px; color:var(--muted); font-weight:700;">CASH Y CALMA</div>
          <div style="font-size:35px; font-weight:900; letter-spacing:.3px;">STREETWEAR DESIGNS</div>
        </div>
      </a>

      <nav aria-label="Navegaci√≥n">
        <ul>
          <li><a href="#drops">Drops</a></li>
          <li><a href="#productos">Productos</a></li>
          <li><a href="#pago">Pago</a></li>
          <li><a href="#interes">Inter√©s</a></li>
          <li><a href="#cupones">Cupones</a></li>
          <li><a href="#historia">Historia</a></li>
        </ul>
      </nav>

      <div class="nav-right">
        <button class="btn ghost" id="themeBtn" type="button" title="Cambiar brillo">
          ‚ú® <span class="muted">Modo</span>
        </button>
        <button class="btn burger" id="burger" type="button" aria-label="Abrir men√∫">‚ò∞</button>
        <a class="btn primary" href="#productos">Ver colecci√≥n</a>
      </div>
    </div>

    <div class="mobile-menu" id="mobileMenu" aria-label="Men√∫ m√≥vil">
      <a href="#drops">Drops</a>
      <a href="#productos">Productos</a>
      <a href="#pago">Pago</a>
      <a href="#interes">Inter√©s</a>
      <a href="#cupones">Cupones</a>
      <a href="#historia">Historia</a>
    </div>
  </div>
</header>

<main id="inicio" class="wrap">
  <div class="hero">
    <div class="hero-grid">
      <div class="card hero-left">
        <span class="pill"><span class="dot"></span><span>Drops nuevos ‚Ä¢ edici√≥n limitadas</span></span>
        <h1>Ropa con actitud. <span style="color:var(--brand2)">Hecha para destacar.</span></h1>
        <p>Bienvenido a <b>Cash y Calma</b>. Dise√±os limpios, detalles fuertes y una vibra street.</p>
        <div class="hero-actions">
          <a class="btn primary" href="#productos">Comprar ahora</a>
          <a class="btn" href="#historia">Conocer la marca</a>
        </div>
      </div>

      <div class="hero-right">
        <div class="mock">
          <div class="mock-inner">
            <img
                    class="zoomable"
                    data-full="https://drive.google.com/thumbnail?id=1aYYEZ9ZUdZ32887mrZVzuuv7nWKExIX_&sz=w2000"
                    src="https://drive.google.com/thumbnail?id=1aYYEZ9ZUdZ32887mrZVzuuv7nWKExIX_&sz=w1200"
                    alt="Cash y Calma Hero Image"
                    style="width:200%; height:200%; object-fit:contain; display:block; margin-right:25px;"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="statbar" style="margin-top:16px">
      <div class="stat"><b>Premium</b><small>Calidad de tela</small></div>
      <div class="stat"><b>Drops</b><small>Edici√≥n limitadas</small></div>
      <div class="stat"><b>Envios</b><small>USA / SLV</small></div>
    </div>
  </div>

  <section id="drops">
    <div class="section-title">
      <div>
        <h2>Drops</h2>
      </div>

      <div class="drop-right">
        <span class="pill"><span class="dot"></span><span id="dropText">Pr√≥ximo drop: Febrero</span></span>

        <div class="timer" aria-label="Cuenta regresiva al drop">
          <span class="muted" style="font-size:13px; font-weight:800;">Faltan</span>

          <div class="tbox">
            <b id="cdDays">00</b>
            <small>D√≠as</small>
          </div>
          <span class="tsep">:</span>

          <div class="tbox">
            <b id="cdHours">00</b>
            <small>Hrs</small>
          </div>
          <span class="tsep">:</span>

          <div class="tbox">
            <b id="cdMins">00</b>
            <small>Min</small>
          </div>
          <span class="tsep">:</span>

          <div class="tbox">
            <b id="cdSecs">00</b>
            <small>Seg</small>
          </div>
        </div>
      </div>
    </div>

    <div class="grid" style="grid-template-columns: 1.2fr .8fr;">
      <div class="card" style="padding:18px">
        <h3 style="margin:0 0 8px">DROPS: ‚ÄúMIDNIGHT PURPLE Y CALMA MODE‚Äù</h3>
        <p class="muted" style="margin:0 0 14px">
          Camisetas negras con detalles morados / blancas con detalles negro. Stock limitado.
          Pago en l√≠nea se habilitar√° muy pronto.
        </p>
        <div style="display:flex; gap:10px; flex-wrap:wrap">
          <a class="btn primary" href="#productos">Ver piezas</a>
          <a class="btn" href="#pago">Ir a pago</a>
        </div>
      </div>

      <div class="card" style="padding:18px">
        <h3 style="margin:0 0 8px">Oferta</h3>
        <p class="muted" style="margin:0 0 14px">10% de descuento al usar el c√≥digo FIRSTDROP10</p>
        <div class="pill"><span class="dot"></span><span>Hecho con estilo + simple + dos culturas diferentes.</span></div>
      </div>
    </div>
  </section>

  <section id="productos">
    <div class="section-title">
      <div><h2>Productos</h2></div>
      <span class="pill"><span class="dot"></span><span id="interestTotal">0 total</span></span>
    </div>

    <!-- Producto 1 (MIDNIGHT PURPLE) -->
    <article class="card prod">
      <div class="prod-gallery">
        <div class="prod-shot">
          <img class="zoomable"
               src="https://drive.google.com/thumbnail?id=1wfSTBYAAx6WdsrgsbvlX4eppmAlOhhsp&sz=w1000"
               data-full="https://drive.google.com/thumbnail?id=1wfSTBYAAx6WdsrgsbvlX4eppmAlOhhsp&sz=w2000"
               alt="Camiseta MIDNIGHT PURPLE - Imagen 1" />
        </div>
        <div class="prod-shot">
          <img class="zoomable"
               src="https://drive.google.com/thumbnail?id=1-ngJkYxYDNMwXb9ReJWz72mateIepkVk&sz=w1000"
               data-full="https://drive.google.com/thumbnail?id=1-ngJkYxYDNMwXb9ReJWz72mateIepkVk&sz=w2000"
               alt="Camiseta MIDNIGHT PURPLE - Imagen 2" />
        </div>
      </div>

      <div class="prod-row">
        <div>
          <div style="font-weight:900">Camiseta MIDNIGHT PURPLE</div>
          <div class="muted" style="font-size:13px">Algod√≥n ‚Ä¢ Corte oversized ‚Ä¢ Unisex</div>
        </div>
        <div class="price">$35.99</div>
      </div>

      <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
        <span class="tag">Nuevo</span>

        <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; align-items:center;">
            <span class="pill" style="padding:10px 12px;">
              <span class="dot"></span><span id="count-midnight">0</span>
            </span>

          <button class="btn js-interest" type="button" data-interest-key="midnight" onclick="addInterest('midnight')">‚ù§Ô∏è Me interesa</button>
          <button class="btn primary" type="button" onclick="prefillPayFromProduct('midnight')">üí≥ Pagar</button>
        </div>
      </div>
    </article>

    <!-- Producto 2 (CALMA MODE) -->
    <article class="card prod" style="margin-top:16px">
      <div class="prod-gallery">
        <div class="prod-shot">
          <img class="zoomable"
               src="https://drive.google.com/thumbnail?id=19kX9p8lQ7mGBhLLeX19GspycQI-E1CX6&sz=w1000"
               data-full="https://drive.google.com/thumbnail?id=19kX9p8lQ7mGBhLLeX19GspycQI-E1CX6&sz=w2000"
               alt="Camiseta CALMA MODE - Imagen 1" />
        </div>
        <div class="prod-shot">
          <img class="zoomable"
               src="https://drive.google.com/thumbnail?id=1vRWx6thV37RHEG3UMZZkHiygvmKZCYfJ&sz=w1000"
               data-full="https://drive.google.com/thumbnail?id=1vRWx6thV37RHEG3UMZZkHiygvmKZCYfJ&sz=w2000"
               alt="Camiseta CALMA MODE - Imagen 2" />
        </div>
      </div>

      <div class="prod-row">
        <div>
          <div style="font-weight:900">Camiseta CALMA MODE</div>
          <div class="muted" style="font-size:13px">Algod√≥n ‚Ä¢ Corte oversized ‚Ä¢ Unisex</div>
        </div>
        <div class="price">$35.99</div>
      </div>

      <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
        <span class="tag">Nuevo</span>

        <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; align-items:center;">
            <span class="pill" style="padding:10px 12px;">
              <span class="dot"></span><span id="count-calma">0</span>
            </span>

          <button class="btn js-interest" type="button" data-interest-key="calma" onclick="addInterest('calma')">‚ù§Ô∏è Me interesa</button>
          <button class="btn primary" type="button" onclick="prefillPayFromProduct('calma')">üí≥ Pagar</button>
        </div>
      </div>
    </article>

    <!-- Producto 3 (HOODIE) -->
    <article class="card prod" style="margin-top:16px">
      <div class="prod-gallery">
        <div class="prod-shot">
          <img class="zoomable"
               src="https://drive.google.com/thumbnail?id=1S_kFSiafwnPkVSahnGwo-NgrUE5hw6H7&sz=w1000"
               data-full="https://drive.google.com/thumbnail?id=1S_kFSiafwnPkVSahnGwo-NgrUE5hw6H7&sz=w2000"
               alt="Hoodie Cash y Calma - Imagen frontal" />
        </div>

        <div class="prod-shot">
          <img class="zoomable"
               src="https://drive.google.com/thumbnail?id=15Wa98d4Nh2fhif22mAXmHd6-jENaGODJ&sz=w1000"
               data-full="https://drive.google.com/thumbnail?id=15Wa98d4Nh2fhif22mAXmHd6-jENaGODJ&sz=w2000"
               alt="Hoodie Cash y Calma - Imagen posterior" />
        </div>
      </div>
      <!-- Producto 4 (HOODIE VARIANTE 2) -->
      <article class="card prod" style="margin-top:16px">
        <div class="prod-gallery">
          <div class="prod-shot">
            <img class="zoomable"
                 src="https://drive.google.com/thumbnail?id=1SUTwbZ81bplZsh7308g2_fve4_JQORrx&sz=w1000"
                 data-full="https://drive.google.com/thumbnail?id=1SUTwbZ81bplZsh7308g2_fve4_JQORrx&sz=w2000"
                 alt="Hoodie Cash y Calma Variant 2 - Imagen frontal" />
          </div>

          <div class="prod-shot">
            <img class="zoomable"
                 src="https://drive.google.com/thumbnail?id=1wfa_HD4hos-yGe4DgXZ8WnTnCZ6rfIzc&sz=w1000"
                 data-full="https://drive.google.com/thumbnail?id=1wfa_HD4hos-yGe4DgXZ8WnTnCZ6rfIzc&sz=w2000"
                 alt="Hoodie Cash y Calma Variant 2 - Imagen posterior" />
          </div>
        </div>

        <div class="prod-row">
          <div>
            <div style="font-weight:900">Hoodie CALMA MODE LIMITED EDITION‚Äî Hoodie PURPLE MIDNIGHT LIMITED EDITION</div>
            <div class="muted" style="font-size:13px">Algod√≥n premium ‚Ä¢ Unisex ‚Ä¢ Corte oversized</div>
          </div>
          <div class="price">$50.00</div>
        </div>

        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
          <span class="tag">Pre-ordenar</span>

          <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; align-items:center;">
      <span class="pill" style="padding:10px 12px;">
        <span class="dot"></span><span>Solo se aceptan pre-ordenes a trav√©s de WhatsApp o Instagram.</span>
      </span>

            <button class="btn js-interest"
                    type="button"
                    data-interest-key="hoodie2"
                    onclick="addInterest('hoodie2')">
              ‚ù§Ô∏è Me interesa
            </button>
          </div>
        </div>
  </section>

  <!-- ‚úÖ PAGO (A√ëADIDO) - SOLO 1 PRENDA -->
  <section id="pago" data-locked="true" class="pay-locked">
  <div class="section-title">
      <div>
        <h2>Pago</h2>
        <p id="payLockedMsg" class="muted" style="margin-top:10px;">
          üîí Los pagos estar√°n disponibles el <b>1 de febrero a las 12:00 PM</b>.
        </p>
        <div id="earlyAccessBox" style="margin-top:14px; max-width:420px;">
          <label class="muted" style="font-size:13px;">
            üéÅ C√≥digo de acceso anticipado
          </label>

          <div style="display:flex; gap:10px; margin-top:6px;">
            <input
                    id="earlyAccessInput"
                    class="input"
                    placeholder="Ingresa tu c√≥digo"
                    autocomplete="off"
            />
            <button class="btn" type="button" onclick="unlockWithCode()">
              Activar
            </button>
          </div>

          <div id="earlyAccessMsg" class="tiny" style="margin-top:6px;"></div>
        </div>

        <div id="payCountdown" class="pill" style="margin-top:12px; gap:14px;">
          ‚è≥
          <span><b id="payDays">00</b>d</span>
          <span><b id="payHours">00</b>h</span>
          <span><b id="payMins">00</b>m</span>
          <span><b id="paySecs">00</b>s</span>
        </div>

        <p class="muted">Solo se permite <b>1 prenda por compra</b>. Cup√≥n <b>FIRSTDROP10</b> aplica en <b>Square</b> y <b>Zelle</b>.</p>
      </div>
      <span class="pill"><span class="dot"></span><span id="payStatus">Listo para pagar</span></span>
    </div>

    <div class="grid pay-grid">
      <!-- Square -->
      <div class="card pay-card">
        <h3 style="margin:0 0 10px">üí≥ Pagar con Square (Tarjeta)</h3>

        <div class="pay-box">
          <b>Estimado:</b> <b>$37.50</b> (fees de Square + env√≠o <b>YA incluidos</b>).
          <br><br>
          <span class="tiny">El cup√≥n se descuenta de $37.50.</span>
        </div>

        <div class="field" style="margin-top:12px">
          <label>Selecciona lo que quieres comprar (solo 1)</label>
          <div style="display:grid; gap:10px; margin-top:8px">
            <label class="pill" style="justify-content:space-between">
              <span><b>Midnight Purple</b> ‚Äî $37.50</span>
              <input type="checkbox" id="sqMid" />
            </label>
            <label class="pill" style="justify-content:space-between">
              <span><b>Calma Mode</b> ‚Äî $37.50</span>
              <input type="checkbox" id="sqCal" />
            </label>
          </div>
          <div class="tiny" style="margin-top:8px">‚úÖ Aqu√≠ no se puede seleccionar 2.</div>
        </div>

        <div class="field" style="margin-top:10px">
          <label for="payCoupon">Cup√≥n (opcional)</label>
          <div style="display:flex; gap:10px; flex-wrap:wrap;">
            <input class="input" id="payCoupon" placeholder="Ej: FIRSTDROP10" style="flex:1; min-width:220px;">
            <button class="btn" type="button" id="btnApplyPayCoupon">Aplicar</button>
          </div>
          <div class="toast" id="payCouponMsg"></div>
        </div>

        <!-- ‚úÖ CAMBIOS AQU√ç: SIEMPRE MUESTRA $37.50 Y ENV√çO "YA INCLUIDO" -->
        <div class="pay-amount">
          <div>
            <div class="muted" style="font-size:12px">Camisa (incluye fees)</div>
            <b id="sqItems">$37.50</b>
          </div>
          <div>
            <div class="muted" style="font-size:12px">Descuento</div>
            <b id="sqDisc">$0.00</b>
          </div>
          <div>
            <div class="muted" style="font-size:12px">Env√≠o</div>
            <b id="sqShip">Ya incluido</b>
          </div>
          <div>
            <div class="muted" style="font-size:12px">Total</div>
            <b id="sqTotal">$37.50</b>
          </div>
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
          <button class="btn primary" type="button" onclick="paySquareNow()">Abrir Square ‚úÖ</button>
        </div>
        <div class="tiny" style="margin-top:10px;">
          üì¶ <b>Entrega estimada:</b> 7‚Äì14 d√≠as h√°biles despu√©s de la confirmaci√≥n de pago,
          dependiendo de la ubicaci√≥n del cliente.
        </div>

      </div>

      <!-- ZELLE -->
      <div class="card pay-card">
        <h3 style="margin:0 0 10px">üè¶ Pagar con Zelle/Crypto/Cashapp/Paypal</h3>

        <div class="pay-box">
          <b>Si pagas con <b>Zelle/Crypto/Cashapp/Paypal</b>, <b>NO pagas fees</b>.</b>
          <br><br>
          <span class="tiny">Con Zelle/Crypto/Cashapp/Paypal pagas solo la camisa ($35.99). Env√≠o se coordina.</span>
        </div>

        <div class="field" style="margin-top:12px">
          <label>Selecciona lo que quieres comprar (solo 1)</label>
          <div style="display:grid; gap:10px; margin-top:8px">
            <label class="pill" style="justify-content:space-between">
              <span><b>Midnight Purple</b> ‚Äî $35.99</span>
              <input type="checkbox" id="zlMid" />
            </label>
            <label class="pill" style="justify-content:space-between">
              <span><b>Calma Mode</b> ‚Äî $35.99</span>
              <input type="checkbox" id="zlCal" />
            </label>
            <label class="pill" style="justify-content:space-between">
              <span><b>Hoodie Midnight PURPLE</b> ‚Äî $50.00</span>
              <input type="checkbox" id="zlHoodie1" />
            </label>

            <label class="pill" style="justify-content:space-between">
              <span><b>Hoodie Calma Mode</b> ‚Äî $50.00</span>
              <input type="checkbox" id="zlHoodie2" />
            </label>
          </div>
        </div>

        <div class="field" style="margin-top:10px">
          <label for="zlCoupon">Cup√≥n (opcional)</label>
          <div style="display:flex; gap:10px; flex-wrap:wrap;">
            <input class="input" id="zlCoupon" placeholder="Ej: FIRSTDROP10" style="flex:1; min-width:220px;">
            <button class="btn" type="button" id="btnApplyZlCoupon">Aplicar</button>
          </div>
          <div class="toast" id="zlCouponMsg"></div>
        </div>

        <div class="pay-amount">
          <div>
            <div class="muted" style="font-size:12px">Camisa/Hoodie</div>
            <b id="zlItems">$0.00</b>
          </div>
          <div>
            <div class="muted" style="font-size:12px">Descuento</div>
            <b id="zlDisc">$0.00</b>
          </div>
          <div>
            <div class="muted" style="font-size:12px">Total Zelle</div>
            <b id="zlTotal">$0.00</b>
          </div>
          <div>
            <div class="muted" style="font-size:12px">Env√≠o</div>
            <b class="muted">Se coordina</b>
          </div>
        </div>

        <!-- BOTONES CON ESPACIO -->
        <div style="display:flex; gap:14px; flex-wrap:wrap; margin-top:14px;">
          <button class="btn primary" type="button" onclick="sendZelleWhatsApp()">
            üí¨ Enviar pedido por WhatsApp
          </button>

          <button class="btn primary" type="button" onclick="sendZelleInstagram()">
            üì∏ Enviar pedido por Instagram
          </button>
        </div>
        <div class="tiny" style="margin-top:10px;">
          üì¶ <b>Entrega estimada:</b> 7‚Äì14 d√≠as h√°biles despu√©s de la confirmaci√≥n del pago por Zelle/Crypto/Cashapp/Paypal,
          dependiendo de la ubicaci√≥n del cliente.
        </div>

      </div>


  </section>

  <!-- ====== INTER√âS ====== -->
  <section id="interes">
    <div class="section-title">
      <div>
        <h2>Inter√©s</h2>
        <p class="muted" style="margin-top:10px">Deja tu contacto y se abre WhatsApp con el resumen.</p>
      </div>
      <span class="pill"><span class="dot"></span><span id="interestTotal2">0 total</span></span>
    </div>

    <div class="grid interest-grid">
      <div class="card interest-card">
        <h3 style="margin:0 0 10px">Contacto</h3>

        <div class="field">
          <label for="iName">Nombre</label>
          <input class="input" id="iName" placeholder="Tu nombre">
        </div>

        <div class="field" style="margin-top:10px">
          <label for="iContact">Instagram/Email/Whatsapp</label>
          <input class="input" id="iContact" placeholder="@usuario o correo">
        </div>

        <div class="field" style="margin-top:10px">
          <label for="iNote">Nota: Detalles de la talla y el color que te gustar√≠a o si est√°s interesado a futuro en los pr√≥ximos drops o el hoodie que saldr√° pronto.</label>
          <input class="input" id="iNote" placeholder="Talla, color, etc.">
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
          <button class="btn primary" type="button" onclick="sendToWhatsApp()">Enviar</button>
        </div>
      </div>

      <div class="card interest-card">
        <h3 style="margin:0 0 10px">Resumen</h3>

        <div class="pill" style="margin-top:10px"><span class="dot"></span>
          <span>Midnight Purple: <b id="sum-midnight">0</b></span>
        </div>
        <div class="pill" style="margin-top:10px"><span class="dot"></span>
          <span>Calma Mode: <b id="sum-calma">0</b></span>
        </div>
        <div class="pill" style="margin-top:10px"><span class="dot"></span>
          <span>Hoodie: <b id="sum-hoodie">0</b></span>
        </div>
        <div class="pill" style="margin-top:10px"><span class="dot"></span>
          <span>Total: <b id="sum-total">0</b></span>
        </div>
      </div>
    </div>
  </section>

  <!-- ====== CUPONES ====== -->
  <section id="cupones">
    <div class="section-title">
      <div>
        <h2>Cupones</h2>
        <p>Usa estos c√≥digos en tus pedidos. Toca ‚ÄúCopiar‚Äù para guardarlos.</p>
      </div>
      <span class="pill"><span class="dot"></span><span>Descuentos limitados</span></span>
    </div>

    <div class="grid coupons">
      <article class="card coupon">
        <div class="coupon-top">
          <div>
            <h3 class="coupon-title">Bienvenida</h3>
            <p class="coupon-desc">10% OFF en tu primera compra.</p>
          </div>
          <span class="badge">-10%</span>
        </div>

        <div class="coupon-code">
          <span class="code">FIRSTDROP10</span>
          <button class="btn" type="button" data-copy="FIRSTDROP10">Copiar</button>
        </div>
        <div class="toast" id="toast-FIRSTDROP10"></div>
      </article>
    </div>
  </section>

  <section id="historia">
    <div class="section-title">
      <div>
        <h2>Historia</h2>
        <p class="muted" style="margin-top:10px">
          ‚Ä¢ Nuestra visi√≥n: Cash y Calma existe para representar el equilibrio que pocos entienden:
          ambici√≥n sin ruido, dinero sin ansiedad, √©xito sin perder la paz.<br><br>
          ‚Ä¢ Nacimos de una idea simple pero poderosa: cuando hay control financiero, hay calma mental.<br><br>
          En un mundo que presume, grita y corre, "Cash y Calma elige el silencio". No competimos por atenci√≥n; competimos por significado.<br><br>
          ‚Ä¢ Qu√© nos hace diferentes: No vendemos ropa, vendemos mentalidad. Cada prenda es un recordatorio de controlar el dinero, el tiempo y la mente.<br><br>
          Minimalismo con intenci√≥n: dise√±os que no saturan ni siguen el ruido de tendencias. Streetwear con madurez: calle, pero pulida. Ambici√≥n, pero en calma.<br><br>
          Cash y Calma no grita √©xito. Lo viste.
        </p>
      </div>
    </div>

    <div class="grid about">
      <div class="card">
        <h3 style="margin:0 0 10px">Nuestra idea</h3>
        <p class="muted" style="margin:0">
          Cash y Calma nace del streetwear: simple, elegante, y con detalles que resaltan. Cada drop tiene una historia.
        </p>
        <ul class="list">
          <li>Dise√±os limpios con identidad.</li>
          <li>Calidad de tela y impresi√≥n.</li>
          <li>Edici√≥n limitada y drops.</li>
        </ul>
      </div>

      <div class="card">
        <h3 style="margin:0 0 10px">Redes</h3>
        <a href="https://www.instagram.com/cashycalma_/"
           target="_blank"
           rel="noopener"
           aria-label="Instagram Cash y Calma"
           style="display:inline-flex;align-items:center;justify-content:center;width:100px;height:100px;border-radius:12px;border:1px solid rgba(255,255,255,.15);transition:.2s;"
           onmouseover="this.style.borderColor='#8b5cf6'"
           onmouseout="this.style.borderColor='rgba(255,255,255,.15)'"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"
               fill="none" viewBox="0 0 24 24" stroke="white">
            <rect x="3" y="3" width="18" height="18" rx="5" ry="5" stroke-width="2"/>
            <circle cx="12" cy="12" r="4" stroke-width="2"/>
            <circle cx="17.5" cy="6.5" r="1.2" fill="white"/>
          </svg>
        </a>
        <a href="https://www.facebook.com/share/1Ap89G25CU/?mibextid=wwXIfr"
           target="_blank"
           rel="noopener"
           aria-label="Facebook Cash y Calma"
           style="display:inline-flex;align-items:center;justify-content:center;width:100px;height:100px;border-radius:12px;border:1px solid rgba(255,255,255,.15);transition:.2s;margin-left:12px;"
           onmouseover="this.style.borderColor='#8b5cf6'"
           onmouseout="this.style.borderColor='rgba(255,255,255,.15)'"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"
               viewBox="0 0 24 24" fill="white">
            <path d="M22 12a10 10 0 1 0-11.6 9.9v-7h-2.3v-2.9h2.3V9.7c0-2.3 1.4-3.6 3.5-3.6
      1 0 2 .2 2 .2v2.3h-1.1c-1.1 0-1.4.7-1.4 1.4v1.7h2.5l-.4 2.9h-2.1v7A10 10 0 0 0 22 12z"/>
          </svg>
        </a>

      </div>
    </div>
  </section>

  <div class="footer">
    <div class="wrap" style="padding:0">
      <div style="display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap">
        <div>¬© <span id="year"></span> Cash y Calma. Todos los derechos reservados.</div>
        <div class="muted">Hecho por Elmer Aguilar.</div>
      </div>
    </div>
  </div>
</main>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox" aria-hidden="true">
  <div class="lightbox-inner" role="dialog" aria-modal="true" aria-label="Vista ampliada">
    <button class="lightbox-close" id="lightboxClose" type="button" aria-label="Cerrar">‚úï</button>
    <img id="lightboxImg" class="lightbox-img" alt="Imagen ampliada" />
    <div class="lightbox-hint">Click afuera o ESC para cerrar</div>
  </div>
</div>

<script>
  // --- men√∫ m√≥vil
  const burger = document.getElementById("burger");
  const mobileMenu = document.getElementById("mobileMenu");
  if (burger && mobileMenu) burger.addEventListener("click", () => mobileMenu.classList.toggle("show"));

  // --- a√±o
  const yearEl = document.getElementById("year");
  if (yearEl) yearEl.textContent = new Date().getFullYear();
</script>

<script>
  // --- Pr√≥ximo drop: Febrero (fijo)
  const drop = document.getElementById("dropText");
  if (drop) drop.textContent = "Pr√≥ximo drop: Febrero";
</script>

<script>
  // ‚úÖ COUNTDOWN PRO + FLIP
  // Febrero 1 a las 12:00 PM (hora local del usuario)
  const DROP_DATE = new Date(2026, 1, 1, 12, 0, 0);


  const elDays  = document.getElementById("cdDays");
  const elHours = document.getElementById("cdHours");
  const elMins  = document.getElementById("cdMins");
  const elSecs  = document.getElementById("cdSecs");

  function pad2(n){ return String(n).padStart(2,"0"); }

  function setBox(el, val){
    if(!el) return;
    const next = String(val);
    if(el.textContent === next) return;

    el.classList.remove("flip");
    void el.offsetWidth;
    el.textContent = next;
    el.classList.add("flip");
    setTimeout(() => el.classList.remove("flip"), 520);
  }

  function tick(){
    const now = new Date();
    let diff = DROP_DATE.getTime() - now.getTime();

    if(diff <= 0){
      setBox(elDays,  "00");
      setBox(elHours, "00");
      setBox(elMins,  "00");
      setBox(elSecs,  "00");
      return;
    }

    const sec = Math.floor(diff / 1000);
    const days = Math.floor(sec / 86400);
    const hours = Math.floor((sec % 86400) / 3600);
    const mins = Math.floor((sec % 3600) / 60);
    const secs = sec % 60;

    setBox(elDays,  pad2(days));
    setBox(elHours, pad2(hours));
    setBox(elMins,  pad2(mins));
    setBox(elSecs,  pad2(secs));
  }

  tick();
  setInterval(tick, 1000);
</script>

<script>
  // --- bot√≥n modo
  const themeBtn = document.getElementById("themeBtn");
  let bright = false;
  if (themeBtn) {
    themeBtn.addEventListener("click", () => {
      bright = !bright;
      document.documentElement.style.setProperty("--bg", bright ? "#0f1020" : "#0b0b10");
    });
  }
</script>

<script>
  // ====== LIGHTBOX JS ======
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightboxImg");
  const lightboxClose = document.getElementById("lightboxClose");

  function openLightbox(src, alt){
    if (!lightbox || !lightboxImg) return;
    lightboxImg.src = src;
    lightboxImg.alt = alt || "Imagen ampliada";
    lightbox.classList.add("show");
    lightbox.setAttribute("aria-hidden", "false");
    document.body.style.overflow = "hidden";
  }

  function closeLightbox(){
    if (!lightbox || !lightboxImg) return;
    lightbox.classList.remove("show");
    lightbox.setAttribute("aria-hidden", "true");
    lightboxImg.src = "";
    document.body.style.overflow = "";
  }

  document.addEventListener("click", (e) => {
    const img = e.target.closest("img.zoomable");
    if (!img) return;
    const full = img.getAttribute("data-full") || img.src;
    openLightbox(full, img.alt);
  });

  if (lightboxClose) lightboxClose.addEventListener("click", closeLightbox);

  if (lightbox) {
    lightbox.addEventListener("click", (e) => {
      const inner = e.target.closest(".lightbox-inner");
      if (!inner) closeLightbox();
    });
  }

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeLightbox();
  });
</script>

<script>
  // ====== CUPONES: copiar al portapapeles ======
  document.addEventListener("click", async (e) => {
    const btn = e.target.closest("[data-copy]");
    if (!btn) return;

    const code = btn.getAttribute("data-copy");
    const toast = document.getElementById("toast-" + code);

    try{
      await navigator.clipboard.writeText(code);
      if (toast) toast.textContent = "Copiado ‚úÖ";
      btn.textContent = "Copiado";
      setTimeout(() => {
        if (toast) toast.textContent = "";
        btn.textContent = "Copiar";
      }, 1400);
    }catch(err){
      const temp = document.createElement("input");
      temp.value = code;
      document.body.appendChild(temp);
      temp.select();
      document.execCommand("copy");
      temp.remove();

      if (toast) toast.textContent = "Copiado ‚úÖ";
      btn.textContent = "Copiado";
      setTimeout(() => {
        if (toast) toast.textContent = "";
        btn.textContent = "Copiar";
      }, 1400);
    }
  });
</script>

<script>
  // ====== PAGO: SOLO 1 PRENDA + CUP√ìN (CORREGIDO)

  const SHIRT_PRICE_SQUARE = 37.50;
  const SHIRT_PRICE_ZELLE  = 35.99;
  const HOODIE_PRICE_ZELLE = 50.00;


  const SQUARE_LINKS = {
    midnight: { normal: "https://square.link/u/zyW5qPLX", coupon: "https://square.link/u/6A14ziQI" },
    calma:    { normal: "https://square.link/u/p3RTwUiC", coupon: "https://square.link/u/H87urrjt" }
  };

  let couponAppliedPay = false;
  let couponAppliedZelle = false;

  function normalizeCode(s){ return (s || "").trim().toUpperCase(); }

  function selectedCount(midId, calId){
    const mid = document.getElementById(midId)?.checked ? 1 : 0;
    const cal = document.getElementById(calId)?.checked ? 1 : 0;
    return { mid, cal, qty: mid + cal };
  }

  function updateSquareTotals(){
    const {qty} = selectedCount("sqMid","sqCal");
    const base = SHIRT_PRICE_SQUARE * qty;
    const disc = couponAppliedPay ? base * 0.10 : 0;
    const total = base - disc;

    document.getElementById("sqItems").textContent = qty ? `$${base.toFixed(2)}` : "$0.00";
    document.getElementById("sqDisc").textContent  = disc ? `-$${disc.toFixed(2)}` : "$0.00";
    document.getElementById("sqShip").textContent  = "Ya incluido";
    document.getElementById("sqTotal").textContent = qty ? `$${total.toFixed(2)}` : "$0.00";
  }

  function updateZelleTotals(){

    const mid    = document.getElementById("zlMid")?.checked;
    const cal    = document.getElementById("zlCal")?.checked;
    const hood1  = document.getElementById("zlHoodie1")?.checked;
    const hood2  = document.getElementById("zlHoodie2")?.checked;

    let base = 0;

    if (mid || cal) {
      base = SHIRT_PRICE_ZELLE;
    }

    if (hood1 || hood2) {
      base = HOODIE_PRICE_ZELLE;
    }

    const disc = couponAppliedZelle ? base * 0.10 : 0;
    const total = base - disc;

    document.getElementById("zlItems").textContent = base ? `$${base.toFixed(2)}` : "$0.00";
    document.getElementById("zlDisc").textContent  = disc ? `-$${disc.toFixed(2)}` : "$0.00";
    document.getElementById("zlTotal").textContent = base ? `$${total.toFixed(2)}` : "$0.00";
  }

  function enforceSingleChoice(ids, changed){
    ids.forEach(id => {
      if(id !== changed) document.getElementById(id).checked = false;
    });
  }

  ["sqMid","sqCal"].forEach(id=>{
    document.getElementById(id).addEventListener("change",()=>{
      enforceSingleChoice(["sqMid","sqCal"], id);
      updateSquareTotals();
    });
  });

  ["zlMid","zlCal"].forEach(id=>{
    document.getElementById(id).addEventListener("change",()=>{
      enforceSingleChoice(["zlMid","zlCal"], id);
      updateZelleTotals();
    });
  });
  ["zlMid","zlCal","zlHoodie1","zlHoodie2"].forEach(id=>{
    document.getElementById(id).addEventListener("change",()=>{
      ["zlMid","zlCal","zlHoodie1","zlHoodie2"].forEach(other=>{
        if(other !== id) document.getElementById(other).checked = false;
      });
      updateZelleTotals();
    });
  });

  document.getElementById("btnApplyPayCoupon").onclick = () => {
    couponAppliedPay = normalizeCode(payCoupon.value) === "FIRSTDROP10";
    payCouponMsg.textContent = couponAppliedPay ? "Cup√≥n aplicado ‚úÖ" : "Cup√≥n inv√°lido ‚ùå";
    updateSquareTotals();
  };

  document.getElementById("btnApplyZlCoupon").onclick = () => {
    couponAppliedZelle = normalizeCode(zlCoupon.value) === "FIRSTDROP10";
    zlCouponMsg.textContent = couponAppliedZelle ? "Cup√≥n aplicado ‚úÖ" : "Cup√≥n inv√°lido ‚ùå";
    updateZelleTotals();
  };

  window.prefillPayFromProduct = function(key){
    sqMid.checked = zlMid.checked = key === "midnight";
    sqCal.checked = zlCal.checked = key === "calma";
    updateSquareTotals();
    updateZelleTotals();
    location.hash = "#pago";
  };

  window.paySquareNow = function(){
    const {mid, cal, qty} = selectedCount("sqMid","sqCal");
    if(!qty) return alert("Selecciona 1 camisa.");
    const link = mid
            ? (couponAppliedPay ? SQUARE_LINKS.midnight.coupon : SQUARE_LINKS.midnight.normal)
            : (couponAppliedPay ? SQUARE_LINKS.calma.coupon : SQUARE_LINKS.calma.normal);
    window.open(link, "_blank");
  };
</script>
updateSquareTotals();
updateZelleTotals();

<script>
  // ====== INTER√âS GLOBAL (Google Sheets) + 1 clic por persona por producto ======
  const API_URL  = "https://script.google.com/macros/s/AKfycbzoFbSOME-jQkSK6gQIOg2S6QWT6j9cXVygEEpRkNWRw8LEFPdSILRGUfuAnTnO7w9yhg/exec";
  const OWNER_WA = "15076214496";

  const VISITOR_KEY = "cyc_visitor_id_v1";
  function getVisitorId(){
    let id = localStorage.getItem(VISITOR_KEY);
    if(!id){
      id = "v_" + Math.random().toString(16).slice(2) + Date.now().toString(16);
      localStorage.setItem(VISITOR_KEY, id);
    }
    return id;
  }

  const VOTED_KEY = "cyc_voted_map_v1";
  function loadVoted(){
    try{ return JSON.parse(localStorage.getItem(VOTED_KEY) || "{}"); }
    catch(e){ return {}; }
  }
  function saveVoted(map){ localStorage.setItem(VOTED_KEY, JSON.stringify(map)); }

  function setText(id, val){
    const el = document.getElementById(id);
    if(el) el.textContent = val;
  }

  function updateUIFromCounts(counts){
    const mid = counts.midnight || 0;
    const cal = counts.calma || 0;
    const hoo = counts.hoodie || 0;
    const tot = mid + cal + hoo;

    setText("count-midnight", mid);
    setText("count-calma", cal);
    setText("count-hoodie", hoo);

    setText("sum-midnight", mid);
    setText("sum-calma", cal);
    setText("sum-hoodie", hoo);
    setText("sum-total", tot);

    setText("interestTotal", tot + " total");
    setText("interestTotal2", tot + " total");
  }

  async function apiGetCounts(){
    const res = await fetch(`${API_URL}?action=get`, { method:"GET" });
    const data = await res.json();
    if(data && data.ok && data.counts) return data.counts;
    throw new Error("Respuesta inv√°lida del API");
  }

  async function apiInc(key, visitorId){
    const res = await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "text/plain;charset=utf-8" },
      body: JSON.stringify({ action:"inc", key, visitorId })
    });
    const data = await res.json();
    if(data && data.ok && data.counts) return data;
    throw new Error("No se pudo incrementar");
  }

  function disableInterestButton(key){
    document.querySelectorAll(".js-interest").forEach(btn => {
      const k = btn.getAttribute("data-interest-key");
      if(k !== key) return;
      btn.disabled = true;
      btn.textContent = "‚úÖ Inter√©s enviado";
    });
  }

  function initDisableFromLocal(){
    const voted = loadVoted();
    ["midnight","calma","hoodie"].forEach(k => {
      if(voted[k]) disableInterestButton(k);
    });
  }

  window.addInterest = async function(key){
    const voted = loadVoted();
    if(voted[key]){
      alert("Ya marcaste inter√©s en este producto ‚úÖ");
      return;
    }
    voted[key] = true;
    saveVoted(voted);

    disableInterestButton(key);

    try{
      const visitorId = getVisitorId();
      const result = await apiInc(key, visitorId);
      updateUIFromCounts(result.counts);
      location.hash = "#interes";
    }catch(err){
      voted[key] = false;
      saveVoted(voted);

      document.querySelectorAll(".js-interest").forEach(btn => {
        const k = btn.getAttribute("data-interest-key");
        if(k !== key) return;
        btn.disabled = false;
        btn.textContent = "‚ù§Ô∏è Me interesa";
      });

      alert("Error conectando con el contador global. Intenta de nuevo.");
      console.error(err);
    }
  };

  window.sendToWhatsApp = async function(){
    const name = (document.getElementById("iName")?.value || "").trim();
    const contact = (document.getElementById("iContact")?.value || "").trim();
    const note = (document.getElementById("iNote")?.value || "").trim();

    let counts = {midnight:0, calma:0, hoodie:0};
    try{ counts = await apiGetCounts(); }catch(e){}

    const mid = counts.midnight || 0;
    const cal = counts.calma || 0;
    const hoo = counts.hoodie || 0;
    const tot = mid + cal + hoo;

    const msg = [
      "Interesado/a en Cash y Calma",
      "",
      `Nombre: ${name || "‚Äî"}`,
      `Contacto: ${contact || "‚Äî"}`,
      `Nota: ${note || "‚Äî"}`,
      "",
      "Conteo GLOBAL:",
      `- MIDNIGHT PURPLE: ${mid}`,
      `- CALMA MODE: ${cal}`,
      `- HOODIE: ${hoo}`,
      `Total: ${tot}`
    ].join("\n");

    const url = `https://wa.me/${OWNER_WA}?text=${encodeURIComponent(msg)}`;
    window.open(url, "_blank", "noopener");
  };

  (async function initInterest(){
    initDisableFromLocal();
    try{
      const counts = await apiGetCounts();
      updateUIFromCounts(counts);
    }catch(err){
      console.error(err);
    }
  })();
</script>
<script>
  window.sendZelleWhatsApp = function(){
    const mid   = document.getElementById("zlMid")?.checked;
    const cal   = document.getElementById("zlCal")?.checked;
    const hood1 = document.getElementById("zlHoodie1")?.checked;
    const hood2 = document.getElementById("zlHoodie2")?.checked;

    if(!mid && !cal && !hood1 && !hood2){
      alert("Selecciona 1 producto para continuar.");
      return;
    }

    let base = 0;
    const items = [];

    if(mid){
      base = 35.99;
      items.push("‚Ä¢ Camiseta MIDNIGHT PURPLE ‚Äî $35.99");
    }
    if(cal){
      base = 35.99;
      items.push("‚Ä¢ Camiseta CALMA MODE ‚Äî $35.99");
    }
    if(hood1){
      base = 50.00;
      items.push("‚Ä¢ Hoodie MIDNIGHT PURPLE ‚Äî $50.00");
    }
    if(hood2){
      base = 50.00;
      items.push("‚Ä¢ Hoodie CALMA MODE ‚Äî $50.00");
    }

    const disc = couponAppliedZelle ? base * 0.10 : 0;
    const total = base - disc;

    const msg = [
      "üè¶ PEDIDO ZELLE ‚Äî Cash y Calma",
      "",
      ...items,
      "",
      `Subtotal: $${base.toFixed(2)}`,
      `Descuento: -$${disc.toFixed(2)}`,
      `Total Zelle: $${total.toFixed(2)}`,
      "üì¶ Entrega estimada: 7‚Äì14 d√≠as h√°biles",
      "Env√≠o: se coordina"
    ].join("\n");

    window.open(`https://wa.me/15076214496?text=${encodeURIComponent(msg)}`);
  };
</script>
<script>
  window.sendZelleInstagram = function(){
    const mid   = document.getElementById("zlMid")?.checked;
    const cal   = document.getElementById("zlCal")?.checked;
    const hood1 = document.getElementById("zlHoodie1")?.checked;
    const hood2 = document.getElementById("zlHoodie2")?.checked;

    if(!mid && !cal && !hood1 && !hood2){
      alert("Selecciona 1 producto para continuar.");
      return;
    }

    let base = 0;
    const items = [];

    if(mid){
      base = 35.99;
      items.push("‚Ä¢ Camiseta MIDNIGHT PURPLE ‚Äî $35.99");
    }
    if(cal){
      base = 35.99;
      items.push("‚Ä¢ Camiseta CALMA MODE ‚Äî $35.99");
    }
    if(hood1){
      base = 50.00;
      items.push("‚Ä¢ Hoodie MIDNIGHT PURPLE ‚Äî $50.00");
    }
    if(hood2){
      base = 50.00;
      items.push("‚Ä¢ Hoodie CALMA MODE ‚Äî $50.00");
    }

    const disc = couponAppliedZelle ? base * 0.10 : 0;
    const total = base - disc;

    const msg = [
      "üì∏ PEDIDO POR INSTAGRAM ‚Äî Cash y Calma",
      "",
      ...items,
      "",
      `Subtotal: $${base.toFixed(2)}`,
      `Descuento: -$${disc.toFixed(2)}`,
      `Total: $${total.toFixed(2)}`,
      "üì¶ Entrega estimada: 7‚Äì14 d√≠as h√°biles",
      "",
      "Hola üëã quiero hacer este pedido."
    ].join("\n");

    const IG_USER = "cashycalma_";
    const IG_URL  = `https://www.instagram.com/${IG_USER}/`;

    navigator.clipboard.writeText(msg).then(() => {
      alert(
              "Mensaje copiado ‚úÖ\n\n" +
              "Se abrir√° Instagram.\n" +
              "Pega el mensaje en el DM y env√≠alo üì©"
      );
      window.open(IG_URL, "_blank", "noopener");
    }).catch(() => {
      window.open(IG_URL, "_blank", "noopener");
    });
  };
</script>

<script>
  // ====== BLOQUEO + DESBLOQUEO DE PAGO (√öNICO Y LIMPIO) ======

  let earlyAccessUnlocked = false;

  const PAY_UNLOCK_DATE = new Date(2026, 1, 1, 12, 0, 0);

  const paySection = document.getElementById("pago");
  const lockMsg = document.getElementById("payLockedMsg");
  const cdWrap = document.getElementById("payCountdown");

  const dEl = document.getElementById("payDays");
  const hEl = document.getElementById("payHours");
  const mEl = document.getElementById("payMins");
  const sEl = document.getElementById("paySecs");

  function pad(n){ return String(n).padStart(2,"0"); }

  function lockPay(){
    paySection.classList.add("pay-locked");
    paySection.style.opacity = ".5";
    paySection.style.pointerEvents = "none";
  }

  function unlockPay(){
    earlyAccessUnlocked = true;
    paySection.classList.remove("pay-locked");
    paySection.style.opacity = "1";
    paySection.style.pointerEvents = "auto";
    if (lockMsg) lockMsg.remove();
    if (cdWrap) cdWrap.remove();
  }

  function updatePayCountdown(){
    if (!paySection || earlyAccessUnlocked) return;

    const diff = PAY_UNLOCK_DATE - new Date();

    if (diff <= 0) {
      unlockPay();
      return;
    }

    lockPay();

    const sec = Math.floor(diff / 1000);
    if (dEl) dEl.textContent = pad(Math.floor(sec / 86400));
    if (hEl) hEl.textContent = pad(Math.floor((sec % 86400) / 3600));
    if (mEl) mEl.textContent = pad(Math.floor((sec % 3600) / 60));
    if (sEl) sEl.textContent = pad(sec % 60);
  }

  window.unlockWithCode = function(){
    const input = document.getElementById("earlyAccessInput");
    const msg = document.getElementById("earlyAccessMsg");

    if (!input) return;

    if (input.value.trim().toUpperCase() === "THANKYOUFORTHESUPPORT") {
      unlockPay();
      msg.textContent = "‚úÖ Acceso anticipado activado";
      msg.style.color = "#8b5cf6";
    } else {
      msg.textContent = "‚ùå C√≥digo incorrecto";
      msg.style.color = "#ff6b6b";
    }
  };

  updatePayCountdown();
  setInterval(updatePayCountdown, 1000);
</script>
</body>
</html>
